{"mode":"block","xmlText":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"Y*25s=@/G@ccs3o9Jrg~\">default_fan_value</variable><variable id=\"@E,uwM#xEfus()/KqC4Q\">received_list</variable><variable id=\"I@%f)iH?R+:o_:2:z[f-\">temp</variable><variable id=\"0I14`Zi?{vK]3*4ou}^^\">cmd</variable><variable id=\"{4|2-O|y|seL9kdh57-y\">ACK_temp_flag</variable><variable id=\"v@vV4T[Ywfxg|:pkUL0l\">lux</variable><variable id=\"xBz~ez)J%D3~{3]UvJ:*\">status</variable><variable id=\"SVyFUd)J:Il?oz)mYLmZ\">ACK_light_flag</variable><variable id=\"b2]JpD1X,5pL);}BsbBd\">temp_list</variable><variable id=\",ieB8,FmMI]AEYKml78)\">light_list</variable><variable id=\"lcY)bU6Z-k{m{Wzxo]7l\">value</variable></variables><block type=\"procedures_defnoreturn\" id=\"h#!K$(--ao-]FW7CjIb,\" x=\"-238\" y=\"-938\"><field name=\"NAME\">receivedACK</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"yolobit_basic_show_image\" id=\"]EDco6j[]%o:15jY|m([\"><value name=\"image\"><block type=\"yolobit_basic_create_image\" id=\"$mk(vO9.vxA@T|D{*$,4\"><field name=\"00\">#00ff00</field><field name=\"01\">#00ff00</field><field name=\"02\">#000000</field><field name=\"03\">#00ff00</field><field name=\"04\">#00ff00</field><field name=\"10\">#000000</field><field name=\"11\">#00ff00</field><field name=\"12\">#00ff00</field><field name=\"13\">#00ff00</field><field name=\"14\">#000000</field><field name=\"20\">#00ff00</field><field name=\"21\">#000000</field><field name=\"22\">#00ff00</field><field name=\"23\">#000000</field><field name=\"24\">#00ff00</field><field name=\"30\">#00ff00</field><field name=\"31\">#00ff00</field><field name=\"32\">#000000</field><field name=\"33\">#00ff00</field><field name=\"34\">#00ff00</field><field name=\"40\">#000000</field><field name=\"41\">#00ff00</field><field name=\"42\">#00ff00</field><field name=\"43\">#00ff00</field><field name=\"44\">#000000</field></block></value><next><block type=\"yolobit_basic_sleep\" id=\"@LE!%yh5F;P(j3dc_RCq\"><value name=\"duration\"><shadow type=\"math_number\" id=\"pg!?o4kz:R6_56r4YG{8\"><field name=\"NUM\">100</field></shadow></value><next><block type=\"yolobit_basic_show_image\" id=\"C[h$6vk`Nqt?qB@cW^4X\"><value name=\"image\"><block type=\"yolobit_basic_create_image\" id=\"4$JOsC`[GnRiaRdx.{3g\"><field name=\"00\">#00ff00</field><field name=\"01\">#000000</field><field name=\"02\">#00ff00</field><field name=\"03\">#000000</field><field name=\"04\">#00ff00</field><field name=\"10\">#00ff00</field><field name=\"11\">#00ff00</field><field name=\"12\">#000000</field><field name=\"13\">#00ff00</field><field name=\"14\">#00ff00</field><field name=\"20\">#000000</field><field name=\"21\">#00ff00</field><field name=\"22\">#00ff00</field><field name=\"23\">#00ff00</field><field name=\"24\">#000000</field><field name=\"30\">#00ff00</field><field name=\"31\">#000000</field><field name=\"32\">#00ff00</field><field name=\"33\">#000000</field><field name=\"34\">#00ff00</field><field name=\"40\">#00ff00</field><field name=\"41\">#00ff00</field><field name=\"42\">#000000</field><field name=\"43\">#00ff00</field><field name=\"44\">#00ff00</field></block></value><next><block type=\"yolobit_basic_sleep\" id=\"v@j.`o)/!VGC9a_-!+J:\"><value name=\"duration\"><shadow type=\"math_number\" id=\"[.CL=hEO{pSg_{!Bn$fH\"><field name=\"NUM\">100</field></shadow></value><next><block type=\"yolobit_basic_show_image\" id=\"mfA#PJf%w(8CD;4Lu#L}\"><value name=\"image\"><block type=\"yolobit_basic_create_image\" id=\"!V]=3Z#N=f=Jm`Cse)P8\"><field name=\"00\">#000000</field><field name=\"01\">#00ff00</field><field name=\"02\">#00ff00</field><field name=\"03\">#00ff00</field><field name=\"04\">#000000</field><field name=\"10\">#00ff00</field><field name=\"11\">#000000</field><field name=\"12\">#00ff00</field><field name=\"13\">#000000</field><field name=\"14\">#00ff00</field><field name=\"20\">#00ff00</field><field name=\"21\">#00ff00</field><field name=\"22\">#000000</field><field name=\"23\">#00ff00</field><field name=\"24\">#00ff00</field><field name=\"30\">#000000</field><field name=\"31\">#00ff00</field><field name=\"32\">#00ff00</field><field name=\"33\">#00ff00</field><field name=\"34\">#000000</field><field name=\"40\">#00ff00</field><field name=\"41\">#000000</field><field name=\"42\">#00ff00</field><field name=\"43\">#000000</field><field name=\"44\">#00ff00</field></block></value></block></next></block></next></block></next></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"cz/l|1Bd`yy%I#!#A^1q\" x=\"213\" y=\"-937\"><field name=\"NAME\">sendACK</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"yolobit_basic_show_image\" id=\"eWM;EUQ}HUZVcUq[w11K\"><value name=\"image\"><block type=\"yolobit_basic_create_image\" id=\"V[DT3TB%1=W^BP([P{UC\"><field name=\"00\">#000000</field><field name=\"01\">#ff0000</field><field name=\"02\">#ff0000</field><field name=\"03\">#ff0000</field><field name=\"04\">#000000</field><field name=\"10\">#ff0000</field><field name=\"11\">#ff0000</field><field name=\"12\">#000000</field><field name=\"13\">#ff0000</field><field name=\"14\">#ff0000</field><field name=\"20\">#ff0000</field><field name=\"21\">#000000</field><field name=\"22\">#ff0000</field><field name=\"23\">#000000</field><field name=\"24\">#ff0000</field><field name=\"30\">#000000</field><field name=\"31\">#ff0000</field><field name=\"32\">#ff0000</field><field name=\"33\">#ff0000</field><field name=\"34\">#000000</field><field name=\"40\">#ff0000</field><field name=\"41\">#ff0000</field><field name=\"42\">#000000</field><field name=\"43\">#ff0000</field><field name=\"44\">#ff0000</field></block></value><next><block type=\"yolobit_basic_sleep\" id=\"a)esLv@Amq.4flZl^CU;\"><value name=\"duration\"><shadow type=\"math_number\" id=\"pR0B4#Lu:t3W{$qQo8=M\"><field name=\"NUM\">100</field></shadow></value><next><block type=\"yolobit_basic_show_image\" id=\"hibDr`4Bo@,p%DgXPo.=\"><value name=\"image\"><block type=\"yolobit_basic_create_image\" id=\"op?FXEnlIr-9rO^:H%nT\"><field name=\"00\">#ff0000</field><field name=\"01\">#ff0000</field><field name=\"02\">#000000</field><field name=\"03\">#ff0000</field><field name=\"04\">#ff0000</field><field name=\"10\">#ff0000</field><field name=\"11\">#000000</field><field name=\"12\">#ff0000</field><field name=\"13\">#000000</field><field name=\"14\">#ff0000</field><field name=\"20\">#000000</field><field name=\"21\">#ff0000</field><field name=\"22\">#ff0000</field><field name=\"23\">#ff0000</field><field name=\"24\">#000000</field><field name=\"30\">#ff0000</field><field name=\"31\">#ff0000</field><field name=\"32\">#000000</field><field name=\"33\">#ff0000</field><field name=\"34\">#ff0000</field><field name=\"40\">#ff0000</field><field name=\"41\">#000000</field><field name=\"42\">#ff0000</field><field name=\"43\">#000000</field><field name=\"44\">#ff0000</field></block></value><next><block type=\"yolobit_basic_sleep\" id=\"I[]vE]D_hxMH)1/{VXv/\"><value name=\"duration\"><shadow type=\"math_number\" id=\"2lC;)SAVkxhA]PGd^dUi\"><field name=\"NUM\">100</field></shadow></value><next><block type=\"yolobit_basic_show_image\" id=\"DFgq[O.2q5asrCp#zd}X\"><value name=\"image\"><block type=\"yolobit_basic_create_image\" id=\"%V@q0j%kb`,]V~MG%=?L\"><field name=\"00\">#ff0000</field><field name=\"01\">#000000</field><field name=\"02\">#ff0000</field><field name=\"03\">#000000</field><field name=\"04\">#ff0000</field><field name=\"10\">#000000</field><field name=\"11\">#ff0000</field><field name=\"12\">#ff0000</field><field name=\"13\">#ff0000</field><field name=\"14\">#000000</field><field name=\"20\">#ff0000</field><field name=\"21\">#ff0000</field><field name=\"22\">#000000</field><field name=\"23\">#ff0000</field><field name=\"24\">#ff0000</field><field name=\"30\">#ff0000</field><field name=\"31\">#000000</field><field name=\"32\">#ff0000</field><field name=\"33\">#000000</field><field name=\"34\">#ff0000</field><field name=\"40\">#000000</field><field name=\"41\">#ff0000</field><field name=\"42\">#ff0000</field><field name=\"43\">#ff0000</field><field name=\"44\">#000000</field></block></value></block></next></block></next></block></next></block></next></block></statement></block><block type=\"yolobit_events_timer\" id=\"dt)WA]C@Rw.6j@|:f;pv\" x=\"1062\" y=\"-912\"><value name=\"INTERVAL\"><shadow type=\"math_number\" id=\"RzcCSvBYHP|sQ(gY@d5j\"><field name=\"NUM\">0.2</field></shadow></value><statement name=\"ACTION\"><block type=\"variables_set\" id=\"#-2KS*qF;J*uPM3+]VGs\"><field name=\"VAR\" id=\"@E,uwM#xEfus()/KqC4Q\">received_list</field><value name=\"VALUE\"><block type=\"lists_split\" id=\"LG}hv{9!.XO,C#5)|_|!\"><mutation mode=\"SPLIT\"></mutation><field name=\"MODE\">SPLIT</field><value name=\"INPUT\"><block type=\"text_getSubstring\" id=\"1,-PPa$yxA#Q#*KwHC_)\"><mutation at1=\"true\" at2=\"true\"></mutation><field name=\"WHERE1\">FROM_START</field><field name=\"WHERE2\">FROM_END</field><value name=\"STRING\"><block type=\"yolobit_device_read_terminal\" id=\"H!U#z%F`n9ieiB*z,h(}\"></block></value><value name=\"AT1\"><block type=\"math_number\" id=\"*^Uf=Ti#B!m6LBRXxOB0\"><field name=\"NUM\">2</field></block></value><value name=\"AT2\"><block type=\"math_number\" id=\"512r:lS4hMSS@=A)K(h]\"><field name=\"NUM\">2</field></block></value></block></value><value name=\"DELIM\"><shadow type=\"text\" id=\"om1yGp%=ky.wch}EiJ}h\"><field name=\"TEXT\">:</field></shadow></value></block></value><next><block type=\"variables_set\" id=\"Y4YQ8G(YtHpSq|(8*DRp\"><field name=\"VAR\" id=\"0I14`Zi?{vK]3*4ou}^^\">cmd</field><value name=\"VALUE\"><block type=\"lists_getIndex\" id=\"6`Lcldc3eUaG0D@J%7h=\"><mutation statement=\"false\" at=\"true\"></mutation><field name=\"MODE\">GET</field><field name=\"WHERE\">FROM_START</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"{qmMLB/^,O!9EMg:Bw:D\"><field name=\"VAR\" id=\"@E,uwM#xEfus()/KqC4Q\">received_list</field></block></value><value name=\"AT\"><block type=\"math_number\" id=\"1EU^jw$rQ~^^yoZOze`*\"><field name=\"NUM\">1</field></block></value></block></value><next><block type=\"variables_set\" id=\"L}*sHt9#r`mGv/BMW4Ei\"><field name=\"VAR\" id=\"xBz~ez)J%D3~{3]UvJ:*\">status</field><value name=\"VALUE\"><block type=\"lists_getIndex\" id=\"bhdN86b-BhQMY`@G{bT4\"><mutation statement=\"false\" at=\"true\"></mutation><field name=\"MODE\">GET</field><field name=\"WHERE\">FROM_START</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"q:c5i^Be*Eo=VIWWuxB^\"><field name=\"VAR\" id=\"@E,uwM#xEfus()/KqC4Q\">received_list</field></block></value><value name=\"AT\"><block type=\"math_number\" id=\"LJ@%obGMCbIyA?o1{AbB\"><field name=\"NUM\">2</field></block></value></block></value><next><block type=\"yolobit_basic_show_image\" id=\"]C6_B,_KY7`:7[nQ6{;d\"><value name=\"image\"><block type=\"variables_get\" id=\"U?E7HsXj_OnNebW*slF6\"><field name=\"VAR\" id=\"0I14`Zi?{vK]3*4ou}^^\">cmd</field></block></value><next><block type=\"controls_if\" id=\";2$d|:6lsi_+xpHY!aun\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"$ZXSgh-ZMU?[@`~5+]9?\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"dQ;p.$io)UHm^)?{14b/\"><field name=\"VAR\" id=\"0I14`Zi?{vK]3*4ou}^^\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"UXT!|WOy}W=t/G2+:R_L\"><field name=\"TEXT\">FAN</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\" id=\"==z,pS7Kd..67)f38H!0\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"dQx1RpZ:2uY4,byfQuq|\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"0I929[CNn5V(LAmhtr*G\"><field name=\"VAR\" id=\"xBz~ez)J%D3~{3]UvJ:*\">status</field></block></value><value name=\"B\"><block type=\"text\" id=\"759c8M+n*xSC}RRTb{)$\"><field name=\"TEXT\">ON</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"jFMu;Tm_d5owH_@/vgxd\"><field name=\"VAR\" id=\"lcY)bU6Z-k{m{Wzxo]7l\">value</field><value name=\"VALUE\"><block type=\"lists_getIndex\" id=\"1a0pDZmH2:MP0A$Uo$y_\"><mutation statement=\"false\" at=\"true\"></mutation><field name=\"MODE\">GET</field><field name=\"WHERE\">FROM_START</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"#+.gld]+vaMTJd^+lmpi\"><field name=\"VAR\" id=\"@E,uwM#xEfus()/KqC4Q\">received_list</field></block></value><value name=\"AT\"><block type=\"math_number\" id=\"]oZ:Bp[=9lZqp;U[yn3.\"><field name=\"NUM\">3</field></block></value></block></value><next><block type=\"yolobit_pin_write_digital\" id=\"i_*T@z?*}+1Fzo$:%gfE\"><field name=\"pin\">14</field><value name=\"output\"><shadow type=\"math_number\" id=\"pe4yu_#v]{V]U:)^T?0i\"><field name=\"NUM\">0</field></shadow><block type=\"yolobit_pin_onoff_value\" id=\"Rlj0l;Ysf-u5yt_aWYe/\"><field name=\"value\">1</field></block></value><next><block type=\"yolobit_basic_show_image\" id=\"iUldb=]-vNn[#;lXmH(`\"><value name=\"image\"><block type=\"yolobit_basic_image_builtins\" id=\"}i*MJp/F`l;3*p3qaR0T\"><field name=\"image\">HEART</field></block></value><next><block type=\"controls_if\" id=\"9QpZk6`SvACJk:f8Fv7(\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"F5[J;tS),9{1,Ql!-Z/r\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"math_tonum\" id=\",6*2e7#;CAfOjE)-5M6L\"><value name=\"A\"><block type=\"variables_get\" id=\";m;v1JvJ|QVk$G~|]08e\"><field name=\"VAR\" id=\"lcY)bU6Z-k{m{Wzxo]7l\">value</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\";aMVCz3=4z`?=0a`15N=\"><field name=\"NUM\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"aiot_minifan\" id=\"sFF{$f*$!rS;nETiT4Ay\"><field name=\"NAME\">pin0</field><value name=\"percent\"><shadow type=\"math_number\" id=\"hjTQ6%tra`3]sThRc9As\"><field name=\"NUM\">70</field></shadow><block type=\"variables_get\" id=\"poB@ct_^4P;=QvB1`ccJ\"><field name=\"VAR\" id=\"Y*25s=@/G@ccs3o9Jrg~\">default_fan_value</field></block></value><next><block type=\"yolobit_basic_scroll_text\" id=\"D+dK-79LL+Ifa~v=UA|F\"><value name=\"message\"><shadow type=\"text\" id=\"MPV@V8O]R1?MNR#hto^2\"><field name=\"TEXT\">F1</field></shadow></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"aiot_minifan\" id=\"zsZNAbIPydfRf5p46DBk\"><field name=\"NAME\">pin0</field><value name=\"percent\"><shadow type=\"math_number\" id=\"hjTQ6%tra`3]sThRc9As\"><field name=\"NUM\">70</field></shadow><block type=\"math_tonum\" id=\"dlf:?RYC,n$6fpQ!tz[o\"><value name=\"A\"><block type=\"variables_get\" id=\"lxclibug%hcMQw,k~Hf=\"><field name=\"VAR\" id=\"lcY)bU6Z-k{m{Wzxo]7l\">value</field></block></value></block></value><next><block type=\"yolobit_basic_scroll_text\" id=\",oON6)8=o;I/$Cn;@1XC\"><value name=\"message\"><shadow type=\"text\" id=\"5msu9b6]SzioeRp2IX~b\"><field name=\"TEXT\">F2</field></shadow></value></block></next></block></statement></block></next></block></next></block></next></block></statement><next><block type=\"controls_if\" id=\"Z;0/$pt-]e]FL/@,R!7O\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"l*Q{#cYLmly]NfTUdoX8\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"W6T,$rtlT?!VR}o`+NX.\"><field name=\"VAR\" id=\"xBz~ez)J%D3~{3]UvJ:*\">status</field></block></value><value name=\"B\"><block type=\"text\" id=\"fi1)_i!JaPRK]W-joy^Q\"><field name=\"TEXT\">OFF</field></block></value></block></value><statement name=\"DO0\"><block type=\"yolobit_basic_show_image\" id=\"VL-G-:2ytB~tS,HL3)]{\"><value name=\"image\"><block type=\"yolobit_basic_image_builtins\" id=\"Q#Yv^Uvub6},=kTI*,[:\"><field name=\"image\">FABULOUS</field></block></value><next><block type=\"aiot_minifan\" id=\"uxru0^lb`p:.W?-BksaJ\"><field name=\"NAME\">pin14</field><value name=\"percent\"><shadow type=\"math_number\" id=\"hjTQ6%tra`3]sThRc9As\"><field name=\"NUM\">70</field></shadow><block type=\"math_number\" id=\"Kx/#]oT^RG8Ioz-+_l[(\"><field name=\"NUM\">0</field></block></value><next><block type=\"yolobit_pin_write_digital\" id=\"S[,-jn0-=K,MKHEdH^jU\"><field name=\"pin\">15</field><value name=\"output\"><shadow type=\"math_number\" id=\"pe4yu_#v]{V]U:)^T?0i\"><field name=\"NUM\">0</field></shadow><block type=\"yolobit_pin_onoff_value\" id=\"ruUaZSkUQuyUIkVgbQUI\"><field name=\"value\">0</field></block></value><next><block type=\"yolobit_pin_write_digital\" id=\"89uQVNUyG4PLI2l?YZ7*\"><field name=\"pin\">14</field><value name=\"output\"><shadow type=\"math_number\" id=\"pe4yu_#v]{V]U:)^T?0i\"><field name=\"NUM\">0</field></shadow><block type=\"yolobit_pin_onoff_value\" id=\"%%@W/9*L3;O]V2P!#@ZK\"><field name=\"value\">0</field></block></value></block></next></block></next></block></next></block></statement></block></next></block></statement><next><block type=\"controls_if\" id=\"!F}#gofNC9,IpgdLScTJ\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"VTs$X_{k-}7__cvWxM(l\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"fs}BJQ23]S%Gb^]sIO{}\"><field name=\"VAR\" id=\"0I14`Zi?{vK]3*4ou}^^\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"|Er,;y}GW4S~wyPv|H9$\"><field name=\"TEXT\">LI</field></block></value></block></value><next><block type=\"controls_if\" id=\"Bn8zjip;}S1swCFM+wd}\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"PjsU3m$a8P[^Bm?6]-%u\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"X;wuKDb27{)OxQLiQi*t\"><field name=\"VAR\" id=\"0I14`Zi?{vK]3*4ou}^^\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"I#%@_@eJeCzpFMX5.X_#\"><field name=\"TEXT\">ACK</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\" id=\"DoEy2|FhMoWx=ahO6w#m\"><value name=\"IF0\"><block type=\"logic_compare\" id=\".Y=^gx;pBr0w*KFoL|yM\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"Ck_c`-[%WsQ5W],F3{M0\"><field name=\"VAR\" id=\"xBz~ez)J%D3~{3]UvJ:*\">status</field></block></value><value name=\"B\"><block type=\"text\" id=\"8R!5`3rmRjwSQ`l:qzLs\"><field name=\"TEXT\">TE</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"OCFA+AM9,+.zY;,ymz-!\"><field name=\"VAR\" id=\"{4|2-O|y|seL9kdh57-y\">ACK_temp_flag</field><value name=\"VALUE\"><block type=\"math_number\" id=\"s`[up}{9Z?SzO@~=3qm@\"><field name=\"NUM\">1</field></block></value></block></statement><next><block type=\"controls_if\" id=\"T)PYLVVGp7IV[z#f]s]P\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"TY~Q~u8rvGNEE%@.=eg(\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"zV1B(du0Kr|q4qRQ.*NO\"><field name=\"VAR\" id=\"xBz~ez)J%D3~{3]UvJ:*\">status</field></block></value><value name=\"B\"><block type=\"text\" id=\"Z)lLAMqgeC|qKELS3swz\"><field name=\"TEXT\">LI</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"`|CIQsDz*d|X}H{@[l`|\"><field name=\"VAR\" id=\"SVyFUd)J:Il?oz)mYLmZ\">ACK_light_flag</field><value name=\"VALUE\"><block type=\"math_number\" id=\"H25]u6ZECDq].JU{q=/b\"><field name=\"NUM\">1</field></block></value></block></statement><next><block type=\"procedures_callnoreturn\" id=\"L-3:oPm9dky6:RpN..{=\"><mutation name=\"receivedACK\"></mutation></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"yolobit_basic_forever\" id=\"w5Bl*-!,Ihc8X2tI)wP*\" x=\"638\" y=\"-862\"><statement name=\"ONSTART\"><block type=\"variables_set\" id=\"}f1sDWmb)#a*5*-OUAs{\"><field name=\"VAR\" id=\"Y*25s=@/G@ccs3o9Jrg~\">default_fan_value</field><value name=\"VALUE\"><block type=\"math_number\" id=\".yb4I[i86ey2Dr,vOPvj\"><field name=\"NUM\">40</field></block></value><next><block type=\"variables_set\" id=\"($RIe/H^NJb[iS(j}~dN\"><field name=\"VAR\" id=\"I@%f)iH?R+:o_:2:z[f-\">temp</field><value name=\"VALUE\"><block type=\"math_number\" id=\"eei;@*oy_?~uND]84-wS\"><field name=\"NUM\">0</field></block></value><next><block type=\"variables_set\" id=\"0aFuiC`eHJeq8fhSwT/*\"><field name=\"VAR\" id=\"v@vV4T[Ywfxg|:pkUL0l\">lux</field><value name=\"VALUE\"><block type=\"math_number\" id=\"b9x;BaM~-VDvd=0i,Mnm\"><field name=\"NUM\">0</field></block></value><next><block type=\"variables_set\" id=\"p5uAIbC@VvGT0y.Ek!C8\"><field name=\"VAR\" id=\"{4|2-O|y|seL9kdh57-y\">ACK_temp_flag</field><value name=\"VALUE\"><block type=\"math_number\" id=\"RLJI{;!-5pbZsSTm1@`2\"><field name=\"NUM\">1</field></block></value><next><block type=\"variables_set\" id=\"fHYyi7[MqO:l(amID)TT\"><field name=\"VAR\" id=\"SVyFUd)J:Il?oz)mYLmZ\">ACK_light_flag</field><value name=\"VALUE\"><block type=\"math_number\" id=\"WUs1bhdhVA:pfuY4B;1C\"><field name=\"NUM\">1</field></block></value><next><block type=\"variables_set\" id=\"m9rVHHhPIO#$jW0@p97c\"><field name=\"VAR\" id=\"b2]JpD1X,5pL);}BsbBd\">temp_list</field><value name=\"VALUE\"><block type=\"lists_create_with\" id=\"TF;/EQLyhc?,Jht8rj-h\"><mutation items=\"0\"></mutation></block></value><next><block type=\"variables_set\" id=\"~_*rk|R$KRyhLp/AieL*\"><field name=\"VAR\" id=\",ieB8,FmMI]AEYKml78)\">light_list</field><value name=\"VALUE\"><block type=\"lists_create_with\" id=\"pU[o(4w$)5b$OEfyW=i.\"><mutation items=\"0\"></mutation></block></value><next><block type=\"yolobit_basic_clear_display\" id=\"h,~9)iRFLj+/::BX1J@8\"><next><block type=\"yolobit_basic_show_image\" id=\"OMjG5K|(slWl^ZujI}W.\"><value name=\"image\"><block type=\"yolobit_basic_image_builtins\" id=\"YwIhmGwH)u}(fR/rDyK;\"><field name=\"image\">SMILE</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><statement name=\"FOREVER\"><block type=\"yolobit_events_run\" id=\"lyr8;}FFs9Lvh*.iu4hz\"><next><block type=\"yolobit_basic_sleep\" id=\"v=/VV8k5:Jo7jfM,bGow\"><value name=\"duration\"><shadow type=\"math_number\" id=\"W_XHsc90So)j4,s1z@9$\"><field name=\"NUM\">1000</field></shadow></value></block></next></block></statement></block><block type=\"yolobit_events_timer\" id=\";g?esy-KA6PKgL?}f4|6\" x=\"-512\" y=\"-413\"><value name=\"INTERVAL\"><shadow type=\"math_number\" id=\"kc;Ivn|tTP[OP.qS8{LY\"><field name=\"NUM\">5</field></shadow></value><statement name=\"ACTION\"><block type=\"controls_if\" id=\"ddmA}F|ohvHwj.Wn;*aS\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"F_Y3s(AGPzN;foNLHzS2\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"NiPpA@nd~QvQ$B3VVtBy\"><field name=\"VAR\" id=\"{4|2-O|y|seL9kdh57-y\">ACK_temp_flag</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"lO,uZ*r=)m99CfA4*P]5\"><field name=\"NUM\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"cET#q{aWs.]RN/3kuCiE\"><field name=\"VAR\" id=\"{4|2-O|y|seL9kdh57-y\">ACK_temp_flag</field><value name=\"VALUE\"><block type=\"math_number\" id=\"5c4K}N9)yoQCyf?F(`Bn\"><field name=\"NUM\">0</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"S;?O8HV(YV|pfQ5jX0{/\"><mutation name=\"sendACK\"></mutation><next><block type=\"xbot_serial_write_string\" id=\"bqNb~N6ph?iQFz*F,q`)\"><value name=\"string\"><shadow type=\"text\" id=\"!A;n8FzN{YiFHt+u4jL%\"><field name=\"TEXT\"> </field></shadow><block type=\"lists_getIndex\" id=\"j$qL8xJaGOH7EI,mh.N:\"><mutation statement=\"false\" at=\"false\"></mutation><field name=\"MODE\">GET</field><field name=\"WHERE\">FIRST</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"SpN#%]TnxxAqZsm!z~Du\"><field name=\"VAR\" id=\"b2]JpD1X,5pL);}BsbBd\">temp_list</field></block></value></block></value></block></next></block></next></block></statement><next><block type=\"controls_if\" id=\"Xt)rXM86^9(QW~~Pfgr^\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"0pOnQup-o5c@lRW$cLCm\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"s0dlcI8L67(bo*v{|fuU\"><field name=\"VAR\" id=\"SVyFUd)J:Il?oz)mYLmZ\">ACK_light_flag</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"c-,1GdvS@`qD(BTx|;]b\"><field name=\"NUM\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\".-E)RulQViIt|s!xc96`\"><field name=\"VAR\" id=\"SVyFUd)J:Il?oz)mYLmZ\">ACK_light_flag</field><value name=\"VALUE\"><block type=\"math_number\" id=\"wvEp1{pr5sDA:;Xbz~)k\"><field name=\"NUM\">0</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"WsP_CFm$p%@=/,S_,?/5\"><mutation name=\"sendACK\"></mutation><next><block type=\"xbot_serial_write_string\" id=\"V*]U%IFmr}@%$^B6plon\"><value name=\"string\"><shadow type=\"text\" id=\"xb?eJpspqq9CNFl)ziXr\"><field name=\"TEXT\"></field></shadow><block type=\"lists_getIndex\" id=\")#|}AtLv5j=b/GNz$cwz\"><mutation statement=\"false\" at=\"false\"></mutation><field name=\"MODE\">GET</field><field name=\"WHERE\">FIRST</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"W4]_e#yH`d=]H_;78b@W\"><field name=\"VAR\" id=\",ieB8,FmMI]AEYKml78)\">light_list</field></block></value></block></value></block></next></block></next></block></statement></block></next></block></statement></block><block type=\"yolobit_events_timer\" id=\"S)p`bksQ69Lwq}.n9ZdL\" x=\"287\" y=\"-413\"><value name=\"INTERVAL\"><shadow type=\"math_number\" id=\")`C(zvXj1KL?%8]!T/$z\"><field name=\"NUM\">4.5</field></shadow></value><statement name=\"ACTION\"><block type=\"aiot_dht_measure\" id=\"rd%Cy*~`p~%ETJIn$.s$\"><next><block type=\"variables_set\" id=\"+e`6al2wYXIoa(Sq(HBy\"><field name=\"VAR\" id=\"I@%f)iH?R+:o_:2:z[f-\">temp</field><value name=\"VALUE\"><block type=\"aiot_dht_read\" id=\"Nq5tuhV}`6L0G@S(t#I3\"><field name=\"DATA\">TEMP</field></block></value><next><block type=\"variables_set\" id=\".L{-M:VRtY:iy-_30/eE\"><field name=\"VAR\" id=\"v@vV4T[Ywfxg|:pkUL0l\">lux</field><value name=\"VALUE\"><block type=\"aiot_light_sensor\" id=\"z+%djWQX4QHi=i(RnNW#\"><field name=\"NAME\">pin1</field></block></value><next><block type=\"lists_setIndex\" id=\"fSI67(R@|zxs}@d=]?@*\"><mutation at=\"false\"></mutation><field name=\"MODE\">SET</field><field name=\"WHERE\">LAST</field><value name=\"LIST\"><block type=\"variables_get\" id=\"PPO7Gh{9dz-rg7f0e{5n\"><field name=\"VAR\" id=\"b2]JpD1X,5pL);}BsbBd\">temp_list</field></block></value><value name=\"TO\"><block type=\"text_join\" id=\"3$4KFYzM9}5tHof7Ci@H\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"isK!XPo6FY/,ncgwo}!#\"><field name=\"TEXT\">!</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"O:0VhcWiP:ke*8:qb6sC\"><field name=\"TEXT\">TEMP</field></block></value><value name=\"ADD2\"><block type=\"variables_get\" id=\"GqM9FI[b:cF#~sgK!m,~\"><field name=\"VAR\" id=\"I@%f)iH?R+:o_:2:z[f-\">temp</field></block></value><value name=\"ADD3\"><block type=\"text\" id=\"-qs2dtNj:HrihspQJNwW\"><field name=\"TEXT\">#</field></block></value></block></value><next><block type=\"lists_setIndex\" id=\"Pfk#!T`,c}l{g!O$s,;H\"><mutation at=\"false\"></mutation><field name=\"MODE\">SET</field><field name=\"WHERE\">LAST</field><value name=\"LIST\"><block type=\"variables_get\" id=\"~2M:IET,fmAwW[^fV{wu\"><field name=\"VAR\" id=\",ieB8,FmMI]AEYKml78)\">light_list</field></block></value><value name=\"TO\"><block type=\"text_join\" id=\"/`=98VDUS|#?EG?Fn:*^\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"UB(9[;dCRum`nk/?lN+g\"><field name=\"TEXT\">!</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"ru3I:hiEIHA_S;{JKzzu\"><field name=\"TEXT\">LI:</field></block></value><value name=\"ADD2\"><block type=\"variables_get\" id=\"}UGqO1g-gp_##/~A^_*?\"><field name=\"VAR\" id=\"v@vV4T[Ywfxg|:pkUL0l\">lux</field></block></value><value name=\"ADD3\"><block type=\"text\" id=\"/HLwbB:d6PO5aN$Uk^JJ\"><field name=\"TEXT\">#</field></block></value></block></value></block></next></block></next></block></next></block></next></block></statement></block><block type=\"yolobit_events_timer\" id=\"l#JT@D1]^=h#U0P.%2;U\" x=\"-312\" y=\"-62\"><value name=\"INTERVAL\"><shadow type=\"math_number\" id=\".rMhgb;SDx`7$ZMCL-[d\"><field name=\"NUM\">0.1</field></shadow></value><statement name=\"ACTION\"><block type=\"aiot_lcd1602_display\" id=\"@mcBUCW7V8A;{Z1K4.g5\"><value name=\"string\"><shadow type=\"text\" id=\"h%/SV=nRT$qBd4nuH)4R\"><field name=\"TEXT\">TEMP:</field></shadow></value><value name=\"X\"><shadow type=\"math_number\" id=\"ffqZeWkFsj)xyVArL}p9\"><field name=\"NUM\">0</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"crdskws7E^_piI)uvbMW\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"aiot_lcd1602_display\" id=\"mL/]oU$Y4EIDNIOa.41.\"><value name=\"string\"><shadow type=\"text\" id=\"B~u%PsmvKq:?w;7$SXBG\"><field name=\"TEXT\">TEMP:</field></shadow><block type=\"variables_get\" id=\"U@!YUf/,K6ma}Ks_MY2E\"><field name=\"VAR\" id=\"I@%f)iH?R+:o_:2:z[f-\">temp</field></block></value><value name=\"X\"><shadow type=\"math_number\" id=\"Fg?~#Iaxg;bf68|x|E(T\"><field name=\"NUM\">7</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"]4sQkQ.4P@ZG|kW2Plmr\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"aiot_lcd1602_display\" id=\"S3d=TqVRAnx)mUAxQg`Y\"><value name=\"string\"><shadow type=\"text\" id=\"}nM~VD@d45n5WC(y:AQV\"><field name=\"TEXT\">C</field></shadow></value><value name=\"X\"><shadow type=\"math_number\" id=\"QRfhW0T8aE0|wETqpYms\"><field name=\"NUM\">11</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"kY/ZT^3M_OcU3Y!Y60E~\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"aiot_lcd1602_display\" id=\"g9(o|0O!5xv(|`x4%a8h\"><value name=\"string\"><shadow type=\"text\" id=\"Pw(s:|L3^{=9;wadNJN/\"><field name=\"TEXT\">LUX: </field></shadow></value><value name=\"X\"><shadow type=\"math_number\" id=\"SjzyZDTy58FU8KqR^)a;\"><field name=\"NUM\">0</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"v6+Fky2fvz;/,E[IFHx4\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"aiot_lcd1602_display\" id=\"U5Vceto~6#$uc3HDD(Jh\"><value name=\"string\"><shadow type=\"text\" id=\"uP)#,c4?#h=%-izuvm4*\"><field name=\"TEXT\">TEMP:</field></shadow><block type=\"variables_get\" id=\"~{(eOs}+ubV/XMG36Xd(\"><field name=\"VAR\" id=\"v@vV4T[Ywfxg|:pkUL0l\">lux</field></block></value><value name=\"X\"><shadow type=\"math_number\" id=\"AcZ{h|pNr=}-ka6l+,`,\"><field name=\"NUM\">7</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"Gn6uXLfJ-qeDws.-cLu]\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"aiot_lcd1602_display\" id=\"1[dn9h0{xIgs2OtR[Y)i\"><value name=\"string\"><shadow type=\"text\" id=\"#R#[[RwG*,XzKMJwyz2Q\"><field name=\"TEXT\">lux</field></shadow></value><value name=\"X\"><shadow type=\"math_number\" id=\"r5BBn1)3~!,gMO[h(Nyp\"><field name=\"NUM\">10</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"50~-emHh;QR{0q_=V.qA\"><field name=\"NUM\">1</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>","python":"from yolobit import *\nbutton_a.on_pressed = None\nbutton_b.on_pressed = None\nbutton_a.on_pressed_ab = button_b.on_pressed_ab = -1\nimport time\nfrom event_manager import *\nimport sys\nimport uselect\nfrom machine import Pin, SoftI2C\nfrom aiot_dht20 import DHT20\nfrom aiot_lcd1602 import LCD1602\n\n# Mô tả hàm này...\ndef receivedACK():\n  global default_fan_value, received_list, temp, cmd, ACK_temp_flag, lux, status, ACK_light_flag, temp_list, light_list, value, aiot_dht20, aiot_lcd1602\n  display.show(Image(\"44044:04440:40404:44044:04440\"))\n  time.sleep_ms(100)\n  display.show(Image(\"40404:44044:04440:40404:44044\"))\n  time.sleep_ms(100)\n  display.show(Image(\"04440:40404:44044:04440:40404\"))\n\n# Mô tả hàm này...\ndef sendACK():\n  global default_fan_value, received_list, temp, cmd, ACK_temp_flag, lux, status, ACK_light_flag, temp_list, light_list, value, aiot_dht20, aiot_lcd1602\n  display.show(Image(\"01110:11011:10101:01110:11011\"))\n  time.sleep_ms(100)\n  display.show(Image(\"11011:10101:01110:11011:10101\"))\n  time.sleep_ms(100)\n  display.show(Image(\"10101:01110:11011:10101:01110\"))\n\nevent_manager.reset()\n\ndef read_terminal_input():\n  spoll=uselect.poll()        # Set up an input polling object.\n  spoll.register(sys.stdin, uselect.POLLIN)    # Register polling object.\n\n  input = ''\n  if spoll.poll(0):\n    input = sys.stdin.read(1)\n\n    while spoll.poll(0):\n      input = input + sys.stdin.read(1)\n\n  spoll.unregister(sys.stdin)\n  return input\n\ndef on_event_timer_callback_d_t_W_A_C():\n  global default_fan_value, received_list, temp, cmd, ACK_temp_flag, lux, status, ACK_light_flag, temp_list, light_list, value, http_response\n  received_list = read_terminal_input()[1 : -1].split(':')\n  cmd = received_list[0]\n  status = received_list[1]\n  display.show(cmd)\n  if cmd == 'FAN':\n    if status == 'ON':\n      value = received_list[2]\n      pin14.write_digital((1))\n      display.show(Image.HEART)\n      if (int(value)) == 0:\n        pin0.write_analog(round(translate(default_fan_value, 0, 100, 0, 1023)))\n        display.scroll('F1')\n      else:\n        pin0.write_analog(round(translate((int(value)), 0, 100, 0, 1023)))\n        display.scroll('F2')\n    if status == 'OFF':\n      display.show(Image.FABULOUS)\n      pin14.write_analog(round(translate(0, 0, 100, 0, 1023)))\n      pin15.write_digital((0))\n      pin14.write_digital((0))\n  if cmd == 'LI':\n    pass\n  if cmd == 'ACK':\n    if status == 'TE':\n      ACK_temp_flag = 1\n    if status == 'LI':\n      ACK_light_flag = 1\n    receivedACK()\n\nevent_manager.add_timer_event(200, on_event_timer_callback_d_t_W_A_C)\n\ndef on_event_timer_callback_g_e_s_y_K():\n  global default_fan_value, received_list, temp, cmd, ACK_temp_flag, lux, status, ACK_light_flag, temp_list, light_list, value, http_response\n  if ACK_temp_flag == 1:\n    ACK_temp_flag = 0\n    sendACK()\n    print((temp_list[0]), end =' ')\n  if ACK_light_flag == 1:\n    ACK_light_flag = 0\n    sendACK()\n    print((light_list[0]), end =' ')\n\nevent_manager.add_timer_event(5000, on_event_timer_callback_g_e_s_y_K)\n\naiot_dht20 = DHT20(SoftI2C(scl=Pin(22), sda=Pin(21)))\n\ndef on_event_timer_callback_S_p_b_k_s():\n  global default_fan_value, received_list, temp, cmd, ACK_temp_flag, lux, status, ACK_light_flag, temp_list, light_list, value, http_response\n  aiot_dht20.read_dht20()\n  temp = aiot_dht20.dht20_temperature()\n  lux = round(translate((pin1.read_analog()), 0, 4095, 0, 100))\n  temp_list[-1] = ''.join([str(x) for x in ['!', 'TEMP', temp, '#']])\n  light_list[-1] = ''.join([str(x2) for x2 in ['!', 'LI:', lux, '#']])\n\nevent_manager.add_timer_event(4500, on_event_timer_callback_S_p_b_k_s)\n\naiot_lcd1602 = LCD1602()\n\ndef on_event_timer_callback_l_J_T_D_h():\n  global default_fan_value, received_list, temp, cmd, ACK_temp_flag, lux, status, ACK_light_flag, temp_list, light_list, value, http_response\n  aiot_lcd1602.move_to(0, 0)\n  aiot_lcd1602.putstr('TEMP:')\n  aiot_lcd1602.move_to(7, 0)\n  aiot_lcd1602.putstr(temp)\n  aiot_lcd1602.move_to(11, 0)\n  aiot_lcd1602.putstr('C')\n  aiot_lcd1602.move_to(0, 1)\n  aiot_lcd1602.putstr('LUX: ')\n  aiot_lcd1602.move_to(7, 1)\n  aiot_lcd1602.putstr(lux)\n  aiot_lcd1602.move_to(10, 1)\n  aiot_lcd1602.putstr('lux')\n\nevent_manager.add_timer_event(100, on_event_timer_callback_l_J_T_D_h)\n\nif True:\n  default_fan_value = 40\n  temp = 0\n  lux = 0\n  ACK_temp_flag = 1\n  ACK_light_flag = 1\n  temp_list = []\n  light_list = []\n  display.clear()\n  display.show(Image.SMILE)\n\nwhile True:\n  event_manager.run()\n  time.sleep_ms(1000)\n","name":"DADN","extensions":[{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_events","src":"https://github.com/AITT-VN/yolobit_extension_events","name":"SỰ KIỆN","description":"Mục mở rộng hỗ trợ sử dụng sự kiện trong chương trình"},{"id":"yolobit-AITT-VN-yolobit_extension_events","src":"https://github.com/AITT-VN/yolobit_extension_events","name":"SỰ KIỆN","description":"Mục mở rộng hỗ trợ sử dụng sự kiện trong chương trình"}],"device":"yolobit"}